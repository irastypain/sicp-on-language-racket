# [Глава 2. Построение абстракций с помощью данных](index.md#Глава-2-Построение-абстракций-с-помощью-данных)
## [2.1 Введение в абстракцию данных](index.md#21-Введение-в-абстракцию-данных)

### Упражнение 2.9
_Радиус_ (width) интервала определяется как половина расстояния между его верхней
и нижней границами. Радиус является мерой неопределенности числа, которое обозначает
интервал. Есть такие математические операции, для которых радиус результата зависит
только от радиусов интервалов-аргументов, а есть такие, для которых радиус результата
не является функцией радиусов аргументов. Покажите, что радиус суммы (или разности)
двух интервалов зависит только от радиусов интервалов, которые складываются
(или вычитаются). Приведите примеры, которые показывают, что для умножения или
деления это не так.

#### Решение
В начале рассуждений определим, как вычисляется _радиус_ интервала. Чтобы вычислить
_радиус_ интервала, необходимо разность верхней и нижней границы интервала поделить
пополам. Т.е. пусть у нас будет интервал _ab_. Тогда _R(ab)_ = _(upper(ab)_ -
_lower(ab)) / 2_. Где _upper(ab)_ и _lower(ab)_ &mdash; верхняя и нижняя границы
интервала _ab_, соответственно.

Итак, пусть имеются два интервала _ab_ и _cd_. Покажем, что радиус суммы (или разности) двух интервалов зависит только от суммы (или разности) радиусов интервалов.

В случае сложения:

```
R(ab + cd) =
= [upper(ab + cd) - lower(ab + cd)] / 2 =
= [(upper(ab) + upper(cd)) - (lower(ab) + lower(cd))] / 2 =
= [(upper(ab) - lower(ab)) + (upper(cd) - lower(cd))] / 2 =
= [upper(ab) - lower(ab)] / 2 + [upper(cd) - lower(cd)] / 2 =
= R(ab) + R(cd)
```

В случае вычитания:

```
R(ab - cd) =
= [upper(ab - cd) - lower(ab - cd)] / 2 =
= [(upper(ab) - lower(cd)) - (lower(ab) - upper(cd))] / 2 =
= [(upper(ab) - lower(ab)) + (upper(cd) - lower(cd))] / 2 =
= [upper(ab) - lower(ab)] / 2 + [upper(cd) - lower(cd)] / 2 =
= R(ab) + R(cd)
```

Из рассуждений вытекает, что радиус суммы (или разности) интервалов зависит только
от суммы (или разности) радиусов интервалов.

Теперь покажем на примере, что данное утверждение не действует для произведения
(или частного) интервалов.

Рассмотрим пример с интервалами вида [_n_, _n + 1_] и [_m_, _m + 1_], где _n_ и
_m_ - некоторые натуральные числа, где _m_ ≥ _n_. Радиус таких интервалов всегда
одинаков, он не зависит ни от каких значений _n_ и _m_, и равен 1/2, то есть
константному значению, не зависящему от значений границ интервалов.

Выполним вычисления для произведения:

```
R([n, n + 1] x [m, m + 1]) =
= [upper([n, n + 1] x [m, m + 1]) - lower([n, n + 1] x [m, m + 1])] / 2 =
= [max(nm, n(m + 1), m(n + 1), (n + 1)(m + 1)) -
- min(nm, n(m + 1), m(n + 1), (n + 1)(m + 1))] / 2 =
= [(n + 1)(m + 1) - nm] / 2 =
= [nm + n + m + 1 - nm] / 2 =
= [n + m] / 2 + 1/2
```

Для частного:

```
R([n, n + 1] / [m, m + 1]) =
= R([n, n + 1] x [1/(m + 1), 1/m]) =
= [upper([n, n + 1] x [1/m, 1/(m + 1)]) - lower([n, n + 1] x [1/m, 1/(m + 1)])] / 2 =
= [max(n/(m + 1), n/m, (n + 1)/(m + 1), (n + 1)/m) -
- min(n/(m + 1), n/m, (n + 1)/(m + 1), (n + 1)/m)] / 2 =
= [(n + 1)/m - n/(m + 1)] / 2 =
= [(nm + n + m + 1 - nm) / m(m + 1)] / 2 =
= (n + m + 1) / 2m(m + 1)
```

Очевидно, что радиус произведения (или частного) интервалов зависит не только от
произведения (или частного) радиусов интервалов, но и от значений границ интервалов.

[Код](../../src/chapter02/exercise_2_09.rkt) | [Тест](../../test/chapter02/test_exercise_2_09.rkt)
--- | ---
