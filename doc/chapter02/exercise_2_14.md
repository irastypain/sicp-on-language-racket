# [Глава 2. Построение абстракций с помощью данных](index.md#Глава-2-Построение-абстракций-с-помощью-данных)
## [2.1 Введение в абстракцию данных](index.md#21-Введение-в-абстракцию-данных)

### Упражнение 2.14
Покажите, что Дайко прав. Исследуйте поведение системы на различных арифметических
выражениях. Создайте несколько интервалов A и B и вычислите с их помощью выражения
A/A и A/B. Наибольшую пользу Вы получите, если будете использовать интервалы,
радиус которых составляет малую часть от среднего значения. Исследуйте результаты
вычислений в форме центр/проценты (см. [упражнение 2.12](exercise_2_12.md#Упражнение-212)).

#### Решение

Создадим несколько интервалов и проверим утверждение Дайко.

```racket
(define a (make-center-percent 100 1))
(define b (make-center-percent 100 5))
(define aa (make-center-percent 10000 1))
(define bb (make-center-percent 10000 5))

(par1 a a) ; '(48.51980198019802 . 51.52020202020203)
(par2 a a) ; '(49.49999999999999 . 50.5)

(par1 a b) ; '(45.655339805825236 . 54.66494845360825)
(par2 a b) ; '(48.47938144329897 . 51.48058252427184)

(par1 a aa) ; '(96.0788158023723 . 102.02020202020202)
(par2 a aa) ; '(98.01980198019801 . 100.0)

(par1 a bb) ; '(88.71804546740873 . 110.48025836024586)
(par2 a bb) ; '(97.9789561412647 . 100.03773228940666)
```

Да, Дайко, действительно, прав. При вычислении сопротивления параллельных резисторов
двумя способами мы получили различные результаты. Стоит заметить, что второй способ
вычисления более точен.

Вычислим частные вида A/B на различных интервалах и получим для них погрешность
в процентах:

```racket
(percent (div-interval a a))    ; 1.9998000199980075
(percent (div-interval a b))    ; 5.997001499250369
(percent (div-interval bb a))   ; 5.9970014992503815
(percent (div-interval bb bb))  ; 9.975062344139655
```

Если посмотреть на погрешности каждого из интервалов, то можно заметить, что
погрешность частного интервалов приближённо равна сумме погрешностей интервала-делимого
и интервала-делителя.

[Код](../../src/chapter02/exercise_2_14.rkt) |
--- |
