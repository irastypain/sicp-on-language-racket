# [Глава 2. Построение абстракций с помощью данных](index.md#Глава-2-Построение-абстракций-с-помощью-данных)
## [2.2 Иерархические данные и свойство замыкания](index.md#22-Иерархические-данные-и-свойство-замыкания)

### Упражнение 2.27
Измените свою процедуру `reverse` из
[упражнения 2.18](exercise_2_18.md#Упражнение-218) так, чтобы получилась
процедура `deep-reverse`, которая принимает список в качестве аргумента и
возвращает в качестве значения список, где порядок элементов обратный и
подсписки также обращены. Например:

```scheme
(define x (list (list 1 2) (list 3 4)))

x
((1 2) (3 4))

(reverse x)
((3 4) (1 2))

(deep-reverse x)
((4 3) (2 1))
```

#### Решение
В [упражнении 2.18](exercise_2_18.md#Упражнение-218) я "перестарался" и уже
реализовал процедуру, которая переворачивает списки, в том числе и вложенные.
Но кое-что можно улучшить всё равно. Правда код почти ничем не отличается от
[кода](../../src/chapter02/exercise_2_18.rkt) из решённого ранее упражения 2.18.

[Код](../../src/chapter02/exercise_2_27.rkt) | [Тест](../../test/chapter02/test_exercise_2_27.rkt)
--- | ---
